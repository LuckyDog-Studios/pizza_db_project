<!DOCTYPE html>
<html lang="en">
{% extends "base.html" %}

{% block content %}
<div>
    <h1>Order Now</h1>
    <div class="tab-buttons">
        <button class="tab-link active" data-tab="tab1">Pizza</button>
        <button class="tab-link" data-tab="tab2">Drinks</button>
        <button class="tab-link" data-tab="tab3">Dessert</button>
    </div>

    <div id="tab1" class="tab-content active">
        <form class="sections" method="POST" action="{{ url_for('order.add_to_order') }}" id="add-order-form">
            <input type="hidden" name="form_id" value="add-order-form">
            <div>
                <h2>Meat</h2>
                <label><input type="checkbox" name="pepperoni">Pepperoni
                <span class="price">€1.50</span></label>
                <label><input type="checkbox" name="salami">Salami
                <span class="price">€1.50</span></label>
                <label><input type="checkbox" name="ham">Ham
                <span class="price">€1.50</span></label>
                <label><input type="checkbox" name="chicken">Chicken
                <span class="price">€1.80</span></label>
                <label><input type="checkbox" name="beef">Beef
                <span class="price">€1.80</span></label>
            </div>
            <div>
                <h2>Toppings</h2>
                <label><input type="checkbox" name="black_olive">Black Olive
                <span class="price">€1.00</span></label>
                <label><input type="checkbox" name="mushrooms">Mushrooms
                <span class="price">€1.00</span></label>
                <label><input type="checkbox" name="onions">Onions
                <span class="price">€0.80</span></label>
                <label><input type="checkbox" name="green_peppers">Green Peppers
                <span class="price">€1.00</span></label>
                <label><input type="checkbox" name="pineapple">Pineapple
                <span class="price">€1.00</span></label>
                <label><input type="checkbox" name="basil">Basil
                <span class="price">€0.80</span></label>
                <label><input type="checkbox" name="corn">Corn
                <span class="price">€0.80</span></label>
            </div>
            <div>
                <h2>Cheeses + Base</h2>
                <label><input type="checkbox" name="mozzarella">Mozzarella
                <span class="price">€1.50</span></label>
                <label><input type="checkbox" name="parmesan">Parmesan
                <span class="price">€1.50</span></label>
                <label><input type="checkbox" name="tomato_sauce">Tomato Sauce
                <span class="price">IBP</span></label>
                <label><input type="checkbox" name="bbq_sauce">BBQ Sauce
                <span class="price">IBP</span></label>
            </div>
            <div>
                <button type="submit">Add To Order</button>
            </div>
        </form>
    </div>

    <div id="tab2" class="tab-content">
        <form class="sections" method="POST" action="{{ url_for('order.add_to_order') }}" id="drink-add-order-form">
            <input type="hidden" name="form_id" value="drink-add-order-form">

            <div>
                <h2>Drinks</h2>
                <label>
                    <button type="submit" name="drink" value="Coca Cola">Coca Cola <span class="price">€2.50</span></button>
                </label>
                <label>
                    <button type="submit" name="drink" value="Fanta">Fanta <span class="price">€2.50</span></button>
                </label>
                <label>
                    <button type="submit" name="drink" value="Iced Tea">Iced Tea <span class="price">€2.50</span></button>
                </label>
                <label>
                    <button type="submit" name="drink" value="Sprite">Sprite <span class="price">€2.50</span></button>
                </label>
            </div>
        </form>

    </div>

    <div id="tab3" class="tab-content">
        <form class="sections" method="POST" action="{{ url_for('order.add_to_order') }}" id="dessert-add-order-form">
            <div>
                <h2>Dessert</h2>
                <button type="submit" name="dessert" value="Chocolate Cake">Chocolate Cake
                    <span class="price">€5.50</span>
                </button>
                <button type="submit" name="dessert" value="Tiramisu">Tiramisu
                    <span class="price">€5.80</span>
                </button>
                <button type="submit" name="dessert" value="Creme Brulee">Creme Brulee
                    <span class="price">€6.00</span>
                </button>
                <button type="submit" name="dessert" value="Vanilla Ice Cream">Vanilla Ice Cream
                    <span class="price">€4.50</span>
                </button>
            </div>
            <input type="hidden" name="form_id" value="dessert-add-order-form">
        </form>
    </div>


    <div class="order-box">
        <h2>Your Order</h2>
        <ul id="order-list">
            {% for pizza in pizzas %}
                <li>
                    Custom Pizza #{{ loop.index }}: {{ pizza.ingredients|join(', ') }} - €{{ pizza.price }}
                    <form method="POST" action="{{ url_for('order.remove_item') }}" style="display:inline;">
                        <input type="hidden" name="pizza_id" value="{{ pizza.id }}">
                        <button type="submit">X</button>
                    </form>
                </li>
            {% endfor %}

            {% for drink in drinks %}
                <li>
                    {{ drink.name }} - €{{ drink.price * drink.amount }}
                    <form method="POST" action="{{ url_for('order.remove_item') }}" style="display:inline;">
                        <input type="hidden" name="drink_id" value="{{ drink.id }}">
                        <button type="submit">X</button>
                    </form>
                </li>
            {% endfor %}

            {% for dessert in desserts %}
                <li>
                    {{ dessert.name }} - €{{ dessert.price * dessert.amount }}
                    <form method="POST" action="{{ url_for('order.remove_item') }}" style="display:inline;">
                        <input type="hidden" name="dessert_id" value="{{ dessert.id }}">
                        <button type="submit">X</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
        <p id="order-total">Total: €{{ total_price }}</p>

        <form class="order-box" method="POST" action="{{ url_for('order.confirm_order') }}" id="confirm-order-form">
            <button type="submit">Confirm Order</button>
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='js/order_tab_switch.js') }}"></script>

{% endblock %}
</html>
